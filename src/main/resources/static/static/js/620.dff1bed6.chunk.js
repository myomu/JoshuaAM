"use strict";(self.webpackChunkjoshuaam=self.webpackChunkjoshuaam||[]).push([[620],{7620:(e,t,a)=>{a.r(t),a.d(t,{AttendanceList:()=>b,default:()=>v});var n=a(7154),s=a(5043),c=a(3814),l=a(4282),r=a(4196),d=a(1072),o=a(8602),i=a(3216),h=a(8628),x=a(4710),p=a(5107),j=a(446),u=a.n(j),m=a(579);const g=function(){const[e,t]=(0,s.useState)(),{attendanceId:a}=(0,i.g)(),[r,j]=(0,s.useState)(!1),[g,v]=(0,s.useState)(),[b,A]=(0,s.useState)(),[f,S]=(0,s.useState)(),[D,w]=(0,s.useState)([]),[y,N]=(0,s.useState)(),[I,C]=(0,s.useState)(!0);(0,s.useEffect)((()=>{n.A.get("http://localhost:8080/api/attendances/check").then((e=>{t(e.data),console.log("---"),console.log(e.data)})).catch((e=>console.log(e))),n.A.get("http://localhost:8080/api/attendances/edit/"+a).then((e=>{w(e.data.checkedMemberIds.map((e=>e.memberId))),N(e.data.attendanceDate);const t=new Date(e.data.attendanceDate);v(t.getFullYear()),A(t.getMonth()+1),S(t.getDate()),C(!1)})).catch((e=>console.log(e)))}),[a]);const k=e=>{e.preventDefault(),D.sort();const t=parseInt(g),s=parseInt(b)-1,c=parseInt(f),l=new Date(t,s,c),d=u()(l).format("YYYY-MM-DDTHH:mm:ss");let o;o=!0===r?{memberIds:D,attendanceDate:d}:{memberIds:D,attendanceDate:y},n.A.post("http://localhost:8080/api/attendances/edit/"+a,o,{headers:{"Content-Type":"application/json"}}).then((e=>{console.log(e),alert("\ucd9c\uc11d \uc218\uc815\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4."),window.location.replace("/attendances")})).catch((function(e){console.log(e),alert("\ucd9c\uc11d \uc218\uc815\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))},Y=()=>{j(!r)},M=e=>{v(e.target.value)},G=e=>{A(e.target.value)},T=e=>{S(e.target.value)},q=(new Date).getFullYear(),B=new Date(g,b,0).getDate(),F=Array.from({length:5},((e,t)=>q-t)),H=Array.from({length:12},((e,t)=>t+1)),z=Array.from({length:B},((e,t)=>t+1));return I?(0,m.jsx)("div",{children:(0,m.jsx)("p",{children:"\ub85c\ub529\uc911 \uc785\ub2c8\ub2e4."})}):(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)("p",{children:"\ucd9c\uc11d\uc218\uc815 \ud654\uba74"}),(0,m.jsxs)(c.A,{onSubmit:k,children:[(0,m.jsx)(h.A,{children:(0,m.jsxs)(h.A.Body,{children:[(0,m.jsx)("p",{children:"\uc218\ub3d9 \ub0a0\uc9dc \uc785\ub825"}),(0,m.jsx)(c.A.Group,{children:(0,m.jsx)(c.A.Check,{type:"switch",id:"custom-switch",label:(0,m.jsxs)("span",{children:["\ub0a0\uc9dc \uc785\ub825",(0,m.jsxs)("small",{children:[" ","- \uc218\ub3d9 \uc785\ub825\uc744 \ud558\uc9c0 \uc54a\uc744 \uc2dc \uae30\uc874\uc758 \ub0a0\uc9dc\ub97c \uae30\uc900\uc73c\ub85c \uc800\uc7a5\ud569\ub2c8\ub2e4."]})]}),checked:r,onChange:Y})}),(0,m.jsxs)(d.A,{children:[(0,m.jsx)(c.A.Group,{as:o.A,children:(0,m.jsxs)(c.A.Select,{value:g,onChange:M,disabled:!r,children:[(0,m.jsx)("option",{value:"",children:"\uc5f0\ub3c4"}),F.map((e=>(0,m.jsxs)("option",{value:e,children:[e,"\ub144"]},e)))]})}),(0,m.jsx)(c.A.Group,{as:o.A,children:(0,m.jsxs)(c.A.Select,{value:b,onChange:G,disabled:!r,children:[(0,m.jsx)("option",{value:"",children:"\uc6d4"}),H.map((e=>(0,m.jsxs)("option",{value:e,children:[e,"\uc6d4"]},e)))]})}),(0,m.jsx)(c.A.Group,{as:o.A,children:(0,m.jsxs)(c.A.Select,{value:f,onChange:T,disabled:!r,children:[(0,m.jsx)("option",{value:"",children:"\uc77c"}),z.map((e=>(0,m.jsxs)("option",{value:e,children:[e,"\uc77c"]},e)))]})})]})]})}),(0,m.jsx)(p.$,{label:"\ucd9c\uc11d\uccb4\ud06c \uc778\uc6d0",values:D,onChange:w,children:e?e.map(((e,t)=>(0,m.jsx)("div",{children:(0,m.jsxs)(h.A,{className:"mb-3",children:[(0,m.jsx)(h.A.Header,{children:(0,m.jsx)("p",{children:e.groupName})}),(0,m.jsx)(h.A.Body,{children:e.members?e.members.map(((e,t)=>(0,m.jsx)(x.S,{value:e.memberId,children:e.name},t))):null})]})},t))):null}),(0,m.jsx)(l.A,{variant:"primary",type:"submit",className:"btnSave",disabled:0===D.length,children:"\ucd9c\uc11d \uc218\uc815"})]})]})};const v=function(){const[e,t]=(0,s.useState)(""),[a,d]=(0,s.useState)([]);return(0,s.useEffect)((()=>{n.A.get("http://localhost:8080/api/attendances").then((e=>{t(e.data),console.log(e.data)})).catch((e=>console.log(e)))}),[]),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"\ucd9c\uc11d\ub9ac\uc2a4\ud2b8 \ud654\uba74"}),(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)("div",{children:"\ub85c\ub529\uc911\uc784"}),children:(0,m.jsxs)(i.BV,{children:[(0,m.jsx)(i.qh,{path:"/",element:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)(c.A,{onSubmit:e=>{e.preventDefault(),console.log(a);const t={attendanceIds:a};n.A.post("http://localhost:8080/api/attendances",t,{headers:{"Content-Type":"application/json"}}).then((e=>{console.log(e),alert("\ucd9c\uc11d \uc0ad\uc81c\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4."),window.location.replace("/attendances")})).catch((function(e){console.log(e),alert("\ucd9c\uc11d \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))},children:[(0,m.jsx)(l.A,{variant:"warning",type:"submit",className:"btnSave",disabled:0===a.length,children:"\ucd9c\uc11d \uc0ad\uc81c"}),(0,m.jsx)(p.$,{label:"\ucd9c\uc11d\uccb4\ud06c \uc778\uc6d0",values:a,onChange:d,children:(0,m.jsxs)(r.A,{bordered:!0,hover:!0,className:"text-nowrap customTable",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"text-center align-middle",children:[(0,m.jsx)("th",{children:"#"}),(0,m.jsx)("th",{children:"\ub0a0\uc9dc"}),(0,m.jsx)("th",{children:"\ucd9c\uc11d\uc778\uc6d0"}),(0,m.jsx)("th",{children:"\ucd1d\uc778\uc6d0"}),(0,m.jsx)("th",{children:"\uc218\uc815"})]})}),(0,m.jsx)(b,{attendances:e})]})})]})})}),(0,m.jsx)(i.qh,{path:"/edit/:attendanceId",element:(0,m.jsx)(g,{})})]})})]})};function b(e){let{attendances:t}=e;const a=(0,i.Zp)();return(0,m.jsx)("tbody",{style:{fontSize:"14px"},children:t?t.map(((e,t)=>{const n=new Date(e.attendanceDate),s=n.getFullYear(),c=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0"),i="".concat(s,"-").concat(c,"-").concat(r);return(0,m.jsxs)("tr",{className:"text-center align-middle",children:[(0,m.jsx)("td",{children:(0,m.jsx)(x.S,{value:e.attendanceId})}),(0,m.jsx)("td",{children:i}),(0,m.jsx)("td",{children:(0,m.jsx)(d.A,{xs:"auto",children:e.attendanceDataDtoList.map(((e,t)=>(0,m.jsx)(o.A,{children:(0,m.jsx)("div",{children:e.memberName})},t)))})}),(0,m.jsx)("td",{children:e.totalMember}),(0,m.jsx)("td",{children:(0,m.jsx)(l.A,{variant:"light",onClick:()=>{a("edit/"+e.attendanceId)},children:(0,m.jsx)("i",{className:"fa-regular fa-pen-to-square"})})})]},t)})):null})}},4196:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(8139),s=a.n(n),c=a(5043),l=a(7852),r=a(579);const d=c.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,striped:c,bordered:d,borderless:o,hover:i,size:h,variant:x,responsive:p,...j}=e;const u=(0,l.oU)(a,"table"),m=s()(n,u,x&&"".concat(u,"-").concat(x),h&&"".concat(u,"-").concat(h),c&&"".concat(u,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),d&&"".concat(u,"-bordered"),o&&"".concat(u,"-borderless"),i&&"".concat(u,"-hover")),g=(0,r.jsx)("table",{...j,className:m,ref:t});if(p){let e="".concat(u,"-responsive");return"string"===typeof p&&(e="".concat(e,"-").concat(p)),(0,r.jsx)("div",{className:e,children:g})}return g}))}}]);
//# sourceMappingURL=620.dff1bed6.chunk.js.map